#program rules.
legal((1, 1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((-1, -1), (255, 255, 255, 255), (172, 50, 50, 255)).
legal((0, -1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((0, -1), (255, 255, 255, 255), (172, 50, 50, 255)).
legal((-1, 1), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((0, -1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((0, 1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((1, 0), (0, 0, 0, 255), (172, 50, 50, 255)).
legal((-1, -1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((0, -1), (172, 50, 50, 255), (0, 0, 0, 255)).
legal((1, 1), (172, 50, 50, 255), (255, 255, 255, 255)).
legal((1, 1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((1, 0), (172, 50, 50, 255), (255, 255, 255, 255)).
legal((-1, 1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((-1, 0), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((-1, 1), (172, 50, 50, 255), (255, 255, 255, 255)).
legal((0, 1), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((-1, 0), (255, 255, 255, 255), (172, 50, 50, 255)).
legal((1, 0), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((1, 0), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((-1, 0), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((-1, -1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((-1, 1), (255, 255, 255, 255), (172, 50, 50, 255)).
legal((-1, 0), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((0, -1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((0, 1), (0, 0, 0, 255), (172, 50, 50, 255)).
legal((1, -1), (172, 50, 50, 255), (255, 255, 255, 255)).
legal((0, 1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((1, -1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((-1, -1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((1, -1), (255, 255, 255, 255), (172, 50, 50, 255)).
legal((-1, 1), (0, 0, 0, 255), (255, 255, 255, 255)).
legal((1, -1), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((-1, 1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((-1, 0), (172, 50, 50, 255), (0, 0, 0, 255)).
legal((1, 0), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((-1, 0), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((0, 1), (172, 50, 50, 255), (255, 255, 255, 255)).
legal((1, -1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((0, -1), (0, 0, 0, 255), (0, 0, 0, 255)).
legal((-1, -1), (172, 50, 50, 255), (0, 0, 0, 255)).
legal((1, 1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((1, 1), (0, 0, 0, 255), (172, 50, 50, 255)).
legal((0, 1), (255, 255, 255, 255), (0, 0, 0, 255)).
legal((1, -1), (255, 255, 255, 255), (255, 255, 255, 255)).
legal((1, 0), (255, 255, 255, 255), (255, 255, 255, 255)).

offset(1, 0).
offset(-1, 0).
offset(0, 1).
offset(0, -1).

pattern((255, 255, 255, 255)).
pattern((0, 0, 0, 255)).
pattern((172, 50, 50, 255)).

pattern_weight((255, 255, 255, 255), 5).
pattern_weight((0, 0, 0, 255), 3).
pattern_weight((172, 50, 50, 255), 1).